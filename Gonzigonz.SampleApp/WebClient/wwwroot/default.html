<!DOCTYPE html>
	<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Gonzigonz</title>
	<meta name="description" content="">
	<script src="js/vendor/jquery-1.11.2.min.js"></script>
</head>
<body>
	<h1>Web Client</h1>

	<select id="apiUrl"></select>
	<button id="getTodoList">Get Todo List</button>

	<pre id="output">Press "Get Todo List" to load items</pre>

	<script>
		$(function () {

			var currentUrlRoot = window.location.href;
			var localUrlRoot = "http://localhost:5000";
			var azureUrlRoot = "http://gonzigonz-api.azurewebsites.net"

			var apiUrlOptions = $("#apiUrl");
			apiUrlOptions.append($("<option />").val(localUrlRoot).text(localUrlRoot));
			apiUrlOptions.append($("<option />").val(azureUrlRoot).text(azureUrlRoot));
			apiUrlOptions.append($("<option />").val(currentUrlRoot).text(currentUrlRoot));

			var showResponse = function (response) {

				$("#output").text(JSON.stringify(response, null, 4));

			};

			var getTodoList = function () {

				var url = $("#apiUrl option:selected").text() + "/api/todo";

				$.ajax({ url: url, cache: false })
					.always(showResponse);

				return false;

			};

			$("#getTodoList").click(getTodoList)

		});
	</script>
</body>
</html>